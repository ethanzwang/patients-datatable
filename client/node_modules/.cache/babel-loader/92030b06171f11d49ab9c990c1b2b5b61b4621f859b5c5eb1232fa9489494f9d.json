{"ast":null,"code":"import React,{useState}from'react';import $ from'jquery';import'datatables.net-dt/css/jquery.dataTables.css';import'datatables.net';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[data,setData]=useState([]);const handleFileUpload=async event=>{event.preventDefault();const file=event.target.files[0];const formData=new FormData();formData.append('excelFile',file);try{const response=await fetch('/upload',{method:'POST',body:formData});if(!response.ok){throw new Error('Network response not ok');}const result=await response.json();setData(result);$('#patientTable').DataTable().clear().rows.add(result).draw();}catch(error){console.erorr('Error uploading file',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Patient Data Table\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".xlsx, .xls\",onChange:handleFileUpload}),/*#__PURE__*/_jsxs(\"table\",{id:\"patientTable\",className:\"display\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{})}),/*#__PURE__*/_jsx(\"tbody\",{})]}),/*#__PURE__*/_jsx(\"script\",{children:`\n          $(document).ready(function () {\n            $('#patientTable').DataTable({\n              columns: ${JSON.stringify(Object.keys(data[0]||{}))}.map(key => ({ title: key }))\n            });\n          });\n        `})]});}export default App;","map":{"version":3,"names":["React","useState","$","jsx","_jsx","jsxs","_jsxs","App","data","setData","handleFileUpload","event","preventDefault","file","target","files","formData","FormData","append","response","fetch","method","body","ok","Error","result","json","DataTable","clear","rows","add","draw","error","console","erorr","className","children","type","accept","onChange","id","JSON","stringify","Object","keys"],"sources":["/Users/ethanwang/patient-database/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport $ from 'jquery';\nimport 'datatables.net-dt/css/jquery.dataTables.css';\nimport 'datatables.net';\nimport './App.css';\n\nfunction App() {\n  const [data, setData] = useState([]);\n\n  const handleFileUpload = async (event) => {\n    event.preventDefault();\n    const file = event.target.files[0];\n    const formData = new FormData();\n    formData.append('excelFile', file);\n\n    try {\n      const response = await fetch('/upload', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error('Network response not ok');\n      }\n\n      const result = await response.json();\n      setData(result);\n\n      $('#patientTable').DataTable().clear().rows.add(result).draw();\n    } catch (error) {\n      console.erorr('Error uploading file', error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Patient Data Table</h1>\n      <input type=\"file\" accept=\".xlsx, .xls\" onChange={handleFileUpload} />\n      <table id=\"patientTable\" className=\"display\">\n        <thead>\n          <tr>\n            {/* Dynamic Headers */}\n          </tr>\n        </thead>\n        <tbody>\n          {/* DataTable will populate this */}\n        </tbody>\n      </table>\n      <script>\n        {`\n          $(document).ready(function () {\n            $('#patientTable').DataTable({\n              columns: ${JSON.stringify(Object.keys(data[0] || {}))}.map(key => ({ title: key }))\n            });\n          });\n        `}\n      </script>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,CAAC,KAAM,QAAQ,CACtB,MAAO,6CAA6C,CACpD,MAAO,gBAAgB,CACvB,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAEpC,KAAM,CAAAS,gBAAgB,CAAG,KAAO,CAAAC,KAAK,EAAK,CACxCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,KAAM,CAAAC,IAAI,CAAGF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAClC,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,WAAW,CAAEL,IAAI,CAAC,CAElC,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,SAAS,CAAE,CACtCC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEN,QACR,CAAC,CAAC,CAEF,GAAI,CAACG,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,yBAAyB,CAAC,CAC5C,CAEA,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CACpCjB,OAAO,CAACgB,MAAM,CAAC,CAEfvB,CAAC,CAAC,eAAe,CAAC,CAACyB,SAAS,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACC,IAAI,CAACC,GAAG,CAACL,MAAM,CAAC,CAACM,IAAI,CAAC,CAAC,CAChE,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEF,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,mBACE1B,KAAA,QAAK6B,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBhC,IAAA,OAAAgC,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BhC,IAAA,UAAOiC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,aAAa,CAACC,QAAQ,CAAE7B,gBAAiB,CAAE,CAAC,cACtEJ,KAAA,UAAOkC,EAAE,CAAC,cAAc,CAACL,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC1ChC,IAAA,UAAAgC,QAAA,cACEhC,IAAA,QAEI,CAAC,CACA,CAAC,cACRA,IAAA,WAEO,CAAC,EACH,CAAC,cACRA,IAAA,WAAAgC,QAAA,CACG;AACT;AACA;AACA,yBAAyBK,IAAI,CAACC,SAAS,CAACC,MAAM,CAACC,IAAI,CAACpC,IAAI,CAAC,CAAC,CAAC,EAAI,CAAC,CAAC,CAAC,CAAC;AACnE;AACA;AACA,SAAS,CACK,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}